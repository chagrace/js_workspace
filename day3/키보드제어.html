<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #wrapper{
            width: 1280;
            height: 640px;
            margin: auto;
            background-image: url(../images/plain/game_bg.jpg);
            position: relative;
            background-position:0px 0px;
        }
    </style>
    <script>
        let wrapper;
        let bgX =0; //배경의 x축 값을 결정 짓는 전역변수
        let img;
        let x = 50; // 우주선의 x좌표
        let y = 200;
        function move(){
            //console.log("내가 누른 키의 아스키 값은", event.keyCode);
            //아스키코드: 좌37 위38 오39 아래40
            
            if(event.keyCode==38){
                y -= 5;
                img.style.top = y + "px"
            }
            if(event.keyCode==40){
                y += 5;
                img.style.top = y + "px"
            }
            if(event.keyCode==37){
                x -= 5;
                img.style.left = x + "px"
            }

            if(event.keyCode==39){
                x += 5;
                img.style.left= x + "px";
            }

        }

        function gameLoop(){
            bgX--;
            wrapper.style.backgroundPosition= bgX + "px 0px"
        }

        function init(){
            //wrapper는 문서에 이미 존재하기 때문에 get~메서드로 얻어온다.
            wrapper = document.getElementById("wrapper");

            img = document.createElement("img");
            img.src="../images/plain/plane.png";
            img.style.width=90+"px";
            img.style.position="absolute";
            img.style.left=50+"px";
            img.style.top=200+"px";

            //컨테이너 요소에 img를 부착하자
            wrapper.appendChild(img);

            //이 시점부터 10/1000초 간격으로 끝없이 gameLoop()호출
            setInterval("gameLoop()",10);
        }
    </script>
</head>
<body onload="init()" onkeydown="move()">
    <div id="wrapper"></div>
</body>
</html>